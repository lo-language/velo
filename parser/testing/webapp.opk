/**

 how do we want to do IO?
 log goes to stderr
 out goes to stdout
 in goes to stdin?

*/
action (args, stdin, system, shop) {

    port is 8080;

    "hello, world!\n" -> action (msg) {

        msg -> out
    }

    fn1(hello world, out([msg], null, null, null);

    // every sink is a function with args (inArgs, out, err, log)?

/*
    shop.make('Http/Logger/ELF', stdout) => logger;
    shop.make('Http/Server', logger) => server;

    server.on('request') >> action (request) {
        request.end("hi there!");
    }

    server.open(port) ~ action (err) {
        log.err("failed to open port _port_: ");
    }
    -> action {
        log.info("server running on port _port_");
    }

    system.on('SIGINT') >> action {
        log.info("received SIGINT");
        server.close();
    }*/
}