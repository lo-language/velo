action (args, io, env, shop) {

    port is 8080;

    42 -> out

    shop.make('Http/Logger/ELF', stdout) => logger
    shop.make('Http/Server', logger) => server

    server.onRequest() >> action (request) {
        request.end("hi there!")
    }

    server.open(port)
    ~ action (err) {
        stderr.write("failed to open port _port_: ");
    }
    -> action {
        stderr.write("server running on port _port_");
    }

    io.signaller.trap('SIGINT') >> action {
        stderr.write("received SIGINT");
        server.close();
    }
}