// exercises the spec around processing sync messages vs. async replies

receive foo, bar;

value = 0;

// send an async message that returns quickly
*foo() then {

    // value should always be whatever's returned by bar() here
    reply 42;
};

// send a sync message that returns slowly
value = bar();

