/*
 * tests the semantics of fail handlers: omission means ignore
 */

main is <-> (test) {

    // fail handler only

    await () >> mightFail on fail -> {

        test.ok(true);
    };

    // both handlers

    await () >> mightFail -> {

        test.ok(false);
    }
    on fail -> {

        test.ok(true);
    };
};


mightFail is <-> {

    fail "d'oh!";
};
