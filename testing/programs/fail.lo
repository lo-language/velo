/*
 * tests the semantics of fail handlers: omission means ignore
 */


mightFail is () {

    fail "d'oh!";
};


main is (test) {

    // fail handler only

    mightFail <- ~> () {

        test.ok <- true;
    }

    // both handlers

    mightFail <- -> () {

        test.ok <- false;
    }
    ~> () {

        test.ok <- true;
    }
};