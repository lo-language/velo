{"type":"procedure", "body":{
    "type":"stmt_list",
    "head":{
        "type":"application_stmt",
        "application":{
            "type":"application",
            "of":{
                "type":"id",
                "name":"foo"
            },
            "args":[]
        }
    },
    "tail":{
        "type":"stmt_list",
        "head":{
            "type":"application_stmt",
            "application":{
                "type":"application",
                "of":{
                    "type":"select",
                    "set":{
                        "type":"id",
                        "name":"foo"
                    },
                    "member":"bar"
                },
                "args":[]
            }
        },
        "tail":{
            "type":"stmt_list",
            "head":{
                "type":"assign",
                "op":"=",
                "left":{
                    "type":"id",
                    "name":"x"
                },
                "right":{
                    "type":"application",
                    "of":{
                        "type":"id",
                        "name":"foo"
                    },
                    "args":[]
                }
            },
            "tail":{
                "type":"stmt_list",
                "head":{
                    "type":"application_stmt",
                    "application":{
                        "type":"application",
                        "of":{
                            "type":"id",
                            "name":"foo"
                        },
                        "args":[]
                    }
                },
                "tail":{
                    "type":"stmt_list",
                    "head":"=>",
                    "tail":{
                        "type":"stmt_list",
                        "head":{
                            "type":"message",
                            "body":[
                                {
                                    "type":"number",
                                    "val":"48"
                                }
                            ],
                            "to":{
                                "type":"id",
                                "name":"bar"
                            },
                            "subsequent":{
                                "type":"stmt_list",
                                "head":{
                                    "type":"response",
                                    "channel":"reply",
                                    "args":[
                                        {
                                            "type":"string",
                                            "val":"hello"
                                        }
                                    ]
                                },
                                "tail":null
                            }
                        },
                        "tail":{
                            "type":"stmt_list",
                            "head":{
                                "type":"message",
                                "body":[
                                    {
                                        "type":"number",
                                        "val":"128"
                                    }
                                ],
                                "to":{
                                    "type":"id",
                                    "name":"baz"
                                },
                                "contingency":{
                                    "type":"stmt_list",
                                    "head":{
                                        "type":"response",
                                        "channel":"reply",
                                        "args":[
                                            {
                                                "type":"string",
                                                "val":"bummer"
                                            }
                                        ]
                                    },
                                    "tail":null
                                }
                            },
                            "tail":{
                                "type":"stmt_list",
                                "head":{
                                    "type":"message",
                                    "body":[
                                        {
                                            "type":"number",
                                            "val":"42"
                                        }
                                    ],
                                    "to":{
                                        "type":"id",
                                        "name":"foo"
                                    },
                                    "subsequent":{
                                        "type":"stmt_list",
                                        "head":{
                                            "type":"response",
                                            "channel":"reply",
                                            "args":[
                                                {
                                                    "type":"string",
                                                    "val":"yay"
                                                }
                                            ]
                                        },
                                        "tail":null
                                    },
                                    "contingency":{
                                        "type":"stmt_list",
                                        "head":{
                                            "type":"response",
                                            "channel":"reply",
                                            "args":[
                                                {
                                                    "type":"string",
                                                    "val":"darn"
                                                }
                                            ]
                                        },
                                        "tail":null
                                    }
                                },
                                "tail":{
                                    "type":"stmt_list",
                                    "head":{
                                        "type":"application",
                                        "of":{
                                            "type":"id",
                                            "name":"bar"
                                        },
                                        "args":[
                                            {
                                                "type":"id",
                                                "name":"foo"
                                            }
                                        ]
                                    },
                                    "tail":{
                                        "type":"stmt_list",
                                        "head":{
                                            "type":"message",
                                            "body":[
                                                {
                                                    "type":"number",
                                                    "val":"42"
                                                }
                                            ],
                                            "to":{
                                                "type":"id",
                                                "name":"foo"
                                            },
                                            "subsequent":{
                                                "type":"stmt_list",
                                                "head":{
                                                    "type":"receive",
                                                    "names":["result"]
                                                },
                                                "tail":{
                                                    "type":"stmt_list",
                                                    "head":{
                                                        "type":"message",
                                                        "body":[
                                                            {
                                                                "type":"id",
                                                                "name":"result"
                                                            }
                                                        ],
                                                        "to":{
                                                            "type":"id",
                                                            "name":"bar"
                                                        },
                                                        "subsequent":{
                                                            "type":"stmt_list",
                                                            "head":{
                                                                "type":"receive",
                                                                "names":["result"]
                                                            },
                                                            "tail":{
                                                                "type":"stmt_list",
                                                                "head":"=>",
                                                                "tail":null
                                                            }
                                                        },
                                                        "contingency":{
                                                            "type":"stmt_list",
                                                            "head":{
                                                                "type":"response",
                                                                "channel":"fail",
                                                                "args":[
                                                                    {
                                                                        "type":"string",
                                                                        "val":"narp"
                                                                    }
                                                                ]
                                                            },
                                                            "tail":null
                                                        }
                                                    },
                                                    "tail":null
                                                }
                                            },
                                            "contingency":{
                                                "type":"stmt_list",
                                                "head":{
                                                    "type":"response",
                                                    "channel":"reply",
                                                    "args":[
                                                        {
                                                            "type":"string",
                                                            "val":"darn"
                                                        }
                                                    ]
                                                },
                                                "tail":null
                                            }
                                        },
                                        "tail":{
                                            "type":"stmt_list",
                                            "head":{
                                                "type":"application_stmt",
                                                "application":{
                                                    "type":"application",
                                                    "of":{
                                                        "type":"id",
                                                        "name":"foo"
                                                    },
                                                    "args":[
                                                        {
                                                            "type":"application",
                                                            "of":{
                                                                "type":"id",
                                                                "name":"bar"
                                                            },
                                                            "args":[]
                                                        }
                                                    ]
                                                }
                                            },
                                            "tail":{
                                                "type":"stmt_list",
                                                "head":{
                                                    "type":"assign",
                                                    "op":"=",
                                                    "left":{
                                                        "type":"id",
                                                        "name":"x"
                                                    },
                                                    "right":{
                                                        "type":"op",
                                                        "op":"+",
                                                        "left":{
                                                            "type":"application",
                                                            "of":{
                                                                "type":"id",
                                                                "name":"foo"
                                                            },
                                                            "args":[]
                                                        },
                                                        "right":{
                                                            "type":"number",
                                                            "val":"7"
                                                        }
                                                    }
                                                },
                                                "tail":{
                                                    "type":"stmt_list",
                                                    "head":{
                                                        "type":"recovery",
                                                        "op":"=",
                                                        "left":{
                                                            "type":"id",
                                                            "name":"x"
                                                        },
                                                        "application":{
                                                            "type":"application",
                                                            "of":{
                                                                "type":"id",
                                                                "name":"foo"
                                                            },
                                                            "args":[]
                                                        },
                                                        "contingency":{
                                                            "type":"stmt_list",
                                                            "head":{
                                                                "type":"receive",
                                                                "names":["error"]
                                                            },
                                                            "tail":{
                                                                "type":"stmt_list",
                                                                "head":{
                                                                    "type":"response",
                                                                    "channel":"replace",
                                                                    "args":[
                                                                        {
                                                                            "type":"string",
                                                                            "val":"ok"
                                                                        }
                                                                    ]
                                                                },
                                                                "tail":null
                                                            }
                                                        }
                                                    },
                                                    "tail":null
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}}